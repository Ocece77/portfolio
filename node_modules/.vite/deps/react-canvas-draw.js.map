{
  "version": 3,
  "sources": ["../../lazy-brush/lib/Point.js", "../../lazy-brush/lib/LazyPoint.js", "../../lazy-brush/lib/LazyBrush.js", "../../lazy-brush/lib/index.js", "../../catenary-curve/lib/Point.js", "../../catenary-curve/lib/Catenary.js", "../../catenary-curve/lib/index.js", "../../react-canvas-draw/es/index.js", "../../resize-observer-polyfill/dist/ResizeObserver.es.js", "../../react-canvas-draw/es/coordinateSystem.js", "../../react-canvas-draw/es/drawImage.js", "../../react-canvas-draw/es/interactionStateMachine.js", "../../react-canvas-draw/es/makePassiveEventOption.js"],
  "sourcesContent": ["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Point =\n/**\n *\n * @param {number} x\n * @param {number} y\n */\nfunction Point(x, y) {\n  _classCallCheck(this, Point);\n\n  this.x = x;\n  this.y = y;\n};\n\nexports.default = Point;", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Point2 = require('./Point');\n\nvar _Point3 = _interopRequireDefault(_Point2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar LazyPoint = function (_Point) {\n  _inherits(LazyPoint, _Point);\n\n  function LazyPoint() {\n    _classCallCheck(this, LazyPoint);\n\n    return _possibleConstructorReturn(this, (LazyPoint.__proto__ || Object.getPrototypeOf(LazyPoint)).apply(this, arguments));\n  }\n\n  _createClass(LazyPoint, [{\n    key: 'update',\n\n    /**\n     * Update the x and y values\n     *\n     * @param {Point} point\n     */\n    value: function update(point) {\n      this.x = point.x;\n      this.y = point.y;\n    }\n\n    /**\n     * Move the point to another position using an angle and distance\n     *\n     * @param {number} angle The angle in radians\n     * @param {number} distance How much the point should be moved\n     */\n\n  }, {\n    key: 'moveByAngle',\n    value: function moveByAngle(angle, distance) {\n      // Rotate the angle based on the browser coordinate system ([0,0] in the top left)\n      var angleRotated = angle + Math.PI / 2;\n\n      this.x = this.x + Math.sin(angleRotated) * distance, this.y = this.y - Math.cos(angleRotated) * distance;\n    }\n\n    /**\n     * Check if this point is the same as another point\n     *\n     * @param {Point} point\n     * @returns {boolean}\n     */\n\n  }, {\n    key: 'equalsTo',\n    value: function equalsTo(point) {\n      return this.x === point.x && this.y === point.y;\n    }\n\n    /**\n     * Get the difference for x and y axis to another point\n     *\n     * @param {Point} point\n     * @returns {Point}\n     */\n\n  }, {\n    key: 'getDifferenceTo',\n    value: function getDifferenceTo(point) {\n      return new _Point3.default(this.x - point.x, this.y - point.y);\n    }\n\n    /**\n     * Calculate distance to another point\n     *\n     * @param {Point} point\n     * @returns {Point}\n     */\n\n  }, {\n    key: 'getDistanceTo',\n    value: function getDistanceTo(point) {\n      var diff = this.getDifferenceTo(point);\n\n      return Math.sqrt(Math.pow(diff.x, 2) + Math.pow(diff.y, 2));\n    }\n\n    /**\n     * Calculate the angle to another point\n     *\n     * @param {Point} point\n     * @returns {Point}\n     */\n\n  }, {\n    key: 'getAngleTo',\n    value: function getAngleTo(point) {\n      var diff = this.getDifferenceTo(point);\n\n      return Math.atan2(diff.y, diff.x);\n    }\n\n    /**\n     * Return a simple object with x and y properties\n     *\n     * @returns {object}\n     */\n\n  }, {\n    key: 'toObject',\n    value: function toObject() {\n      return {\n        x: this.x,\n        y: this.y\n      };\n    }\n  }]);\n\n  return LazyPoint;\n}(_Point3.default);\n\nexports.default = LazyPoint;", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _LazyPoint = require('./LazyPoint');\n\nvar _LazyPoint2 = _interopRequireDefault(_LazyPoint);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar RADIUS_DEFAULT = 30;\n\nvar LazyBrush = function () {\n  /**\n   * constructor\n   *\n   * @param {object} settings\n   * @param {number} settings.radius The radius for the lazy area\n   * @param {boolean} settings.enabled\n   */\n  function LazyBrush() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$radius = _ref.radius,\n        radius = _ref$radius === undefined ? RADIUS_DEFAULT : _ref$radius,\n        _ref$enabled = _ref.enabled,\n        enabled = _ref$enabled === undefined ? true : _ref$enabled,\n        _ref$initialPoint = _ref.initialPoint,\n        initialPoint = _ref$initialPoint === undefined ? { x: 0, y: 0 } : _ref$initialPoint;\n\n    _classCallCheck(this, LazyBrush);\n\n    this.radius = radius;\n    this._isEnabled = enabled;\n\n    this.pointer = new _LazyPoint2.default(initialPoint.x, initialPoint.y);\n    this.brush = new _LazyPoint2.default(initialPoint.x, initialPoint.y);\n\n    this.angle = 0;\n    this.distance = 0;\n    this._hasMoved = false;\n  }\n\n  /**\n   * Enable lazy brush calculations.\n   *\n   */\n\n\n  _createClass(LazyBrush, [{\n    key: 'enable',\n    value: function enable() {\n      this._isEnabled = true;\n    }\n\n    /**\n     * Disable lazy brush calculations.\n     *\n     */\n\n  }, {\n    key: 'disable',\n    value: function disable() {\n      this._isEnabled = false;\n    }\n\n    /**\n     * @returns {boolean}\n     */\n\n  }, {\n    key: 'isEnabled',\n    value: function isEnabled() {\n      return this._isEnabled;\n    }\n\n    /**\n     * Update the radius\n     *\n     * @param {number} radius\n     */\n\n  }, {\n    key: 'setRadius',\n    value: function setRadius(radius) {\n      this.radius = radius;\n    }\n\n    /**\n     * Return the current radius\n     *\n     * @returns {number}\n     */\n\n  }, {\n    key: 'getRadius',\n    value: function getRadius() {\n      return this.radius;\n    }\n\n    /**\n     * Return the brush coordinates as a simple object\n     *\n     * @returns {object}\n     */\n\n  }, {\n    key: 'getBrushCoordinates',\n    value: function getBrushCoordinates() {\n      return this.brush.toObject();\n    }\n\n    /**\n     * Return the pointer coordinates as a simple object\n     *\n     * @returns {object}\n     */\n\n  }, {\n    key: 'getPointerCoordinates',\n    value: function getPointerCoordinates() {\n      return this.pointer.toObject();\n    }\n\n    /**\n     * Return the brush as a LazyPoint\n     *\n     * @returns {LazyPoint}\n     */\n\n  }, {\n    key: 'getBrush',\n    value: function getBrush() {\n      return this.brush;\n    }\n\n    /**\n     * Return the pointer as a LazyPoint\n     *\n     * @returns {LazyPoint}\n     */\n\n  }, {\n    key: 'getPointer',\n    value: function getPointer() {\n      return this.pointer;\n    }\n\n    /**\n     * Return the angle between pointer and brush\n     *\n     * @returns {number} Angle in radians\n     */\n\n  }, {\n    key: 'getAngle',\n    value: function getAngle() {\n      return this.angle;\n    }\n\n    /**\n     * Return the distance between pointer and brush\n     *\n     * @returns {number} Distance in pixels\n     */\n\n  }, {\n    key: 'getDistance',\n    value: function getDistance() {\n      return this.distance;\n    }\n\n    /**\n     * Return if the previous update has moved the brush.\n     *\n     * @returns {boolean} Whether the brush moved previously.\n     */\n\n  }, {\n    key: 'brushHasMoved',\n    value: function brushHasMoved() {\n      return this._hasMoved;\n    }\n\n    /**\n     * Updates the pointer point and calculates the new brush point.\n     *\n     * @param {Point} newPointerPoint\n     * @param {Object} options\n     * @param {Boolean} options.both Force update pointer and brush\n     * @returns {Boolean} Whether any of the two points changed\n     */\n\n  }, {\n    key: 'update',\n    value: function update(newPointerPoint) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref2$both = _ref2.both,\n          both = _ref2$both === undefined ? false : _ref2$both;\n\n      this._hasMoved = false;\n      if (this.pointer.equalsTo(newPointerPoint) && !both) {\n        return false;\n      }\n\n      this.pointer.update(newPointerPoint);\n\n      if (both) {\n        this._hasMoved = true;\n        this.brush.update(newPointerPoint);\n        return true;\n      }\n\n      if (this._isEnabled) {\n        this.distance = this.pointer.getDistanceTo(this.brush);\n        this.angle = this.pointer.getAngleTo(this.brush);\n\n        if (this.distance > this.radius) {\n          this.brush.moveByAngle(this.angle, this.distance - this.radius);\n          this._hasMoved = true;\n        }\n      } else {\n        this.distance = 0;\n        this.angle = 0;\n        this.brush.update(newPointerPoint);\n        this._hasMoved = true;\n      }\n\n      return true;\n    }\n  }]);\n\n  return LazyBrush;\n}();\n\nexports.default = LazyBrush;", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LazyPoint = exports.Point = exports.LazyBrush = undefined;\n\nvar _LazyBrush = require('./LazyBrush');\n\nvar _LazyBrush2 = _interopRequireDefault(_LazyBrush);\n\nvar _Point = require('./Point');\n\nvar _Point2 = _interopRequireDefault(_Point);\n\nvar _LazyPoint = require('./LazyPoint');\n\nvar _LazyPoint2 = _interopRequireDefault(_LazyPoint);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.LazyBrush = _LazyBrush2.default;\nexports.Point = _Point2.default;\nexports.LazyPoint = _LazyPoint2.default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Point = function () {\n  /**\n   *\n   * @param {number} x\n   * @param {number} y\n   */\n  function Point(x, y) {\n    _classCallCheck(this, Point);\n\n    this.x = x;\n    this.y = y;\n  }\n\n  /**\n   * Update the x and y values\n   *\n   * @param {Point} point\n   */\n\n\n  _createClass(Point, [{\n    key: \"update\",\n    value: function update(point) {\n      this.x = point.x;\n      this.y = point.y;\n    }\n\n    /**\n     * Get the difference for x and y axis to another point\n     *\n     * @param {Point} point\n     * @returns {Point}\n     */\n\n  }, {\n    key: \"getDifferenceTo\",\n    value: function getDifferenceTo(point) {\n      return new Point(this.x - point.x, this.y - point.y);\n    }\n\n    /**\n     * Calculate distance to another point\n     *\n     * @param {Point} point\n     * @returns {Point}\n     */\n\n  }, {\n    key: \"getDistanceTo\",\n    value: function getDistanceTo(point) {\n      var diff = this.getDifferenceTo(point);\n\n      return Math.sqrt(Math.pow(diff.x, 2) + Math.pow(diff.y, 2));\n    }\n  }]);\n\n  return Point;\n}();\n\nexports.default = Point;", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Given two points and a length, calculate and draw the catenary.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * JavaScript implementation:\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright (c) 2018 Jan Hug <me@dulnan.net>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Released under the MIT license.\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * ----------------------------------------------------------------------------\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Original ActionScript implementation:\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Copyright poiasd ( http://wonderfl.net/user/poiasd )\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * MIT License ( http://www.opensource.org/licenses/mit-license.php )\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Downloaded from: http://wonderfl.net/c/8Bnl\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * ----------------------------------------------------------------------------\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * \n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Archived by and downloaded from:\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * http://wa.zozuar.org/code.php?c=8Bnl\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\n\nvar _Point = require('./Point');\n\nvar _Point2 = _interopRequireDefault(_Point);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EPSILON = 1e-6;\n\nvar Catenary = function () {\n  /**\n   * constructor\n   *\n   * @param {Object} settings\n   * @param {Number} settings.segments Number of segments of the chain.\n   * @param {Number} settings.iterationLimit Maximum amount iterations for getting catenary parameters.\n   */\n  function Catenary() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$segments = _ref.segments,\n        segments = _ref$segments === undefined ? 50 : _ref$segments,\n        _ref$iterationLimit = _ref.iterationLimit,\n        iterationLimit = _ref$iterationLimit === undefined ? 100 : _ref$iterationLimit;\n\n    _classCallCheck(this, Catenary);\n\n    this.p1 = new _Point2.default();\n    this.p2 = new _Point2.default();\n\n    this.segments = segments;\n    this.iterationLimit = iterationLimit;\n  }\n\n  /**\n   * Draws a catenary given two coordinates, a length and a context.\n   * \n   * @param {CanvasRenderingContext2D} context The canvas context to draw the catenary on to.\n   * @param {Point} p1 First point\n   * @param {Point} p2 Second point\n   * @param {Number} chainLength The length of the catenary\n   */\n\n\n  _createClass(Catenary, [{\n    key: 'drawToCanvas',\n    value: function drawToCanvas(context, point1, point2, chainLength) {\n      this.p1.update(point1);\n      this.p2.update(point2);\n\n      var isFlipped = this.p1.x > this.p2.x;\n\n      var p1 = isFlipped ? this.p2 : this.p1;\n      var p2 = isFlipped ? this.p1 : this.p2;\n\n      var distance = p1.getDistanceTo(p2);\n\n      var curveData = [];\n      var isStraight = true;\n\n      // Prevent \"expensive\" catenary calculations if it would only result\n      // in a straight line.\n      if (distance < chainLength) {\n        var diff = p2.x - p1.x;\n\n        // If the distance on the x axis of both points is too small, don't\n        // calculate a catenary.\n        if (diff > 0.01) {\n          var h = p2.x - p1.x;\n          var v = p2.y - p1.y;\n          var a = -this.getCatenaryParameter(h, v, chainLength, this.iterationLimit);\n          var x = (a * Math.log((chainLength + v) / (chainLength - v)) - h) * 0.5;\n          var y = a * Math.cosh(x / a);\n          var offsetX = p1.x - x;\n          var offsetY = p1.y - y;\n          curveData = this.getCurve(a, p1, p2, offsetX, offsetY, this.segments);\n          isStraight = false;\n        } else {\n          var mx = (p1.x + p2.x) * 0.5;\n          var my = (p1.y + p2.y + chainLength) * 0.5;\n\n          curveData = [[p1.x, p1.y], [mx, my], [p2.x, p2.y]];\n        }\n      } else {\n        curveData = [[p1.x, p1.y], [p2.x, p2.y]];\n      }\n\n      if (isStraight) {\n        this.drawLine(curveData, context);\n      } else {\n        this.drawCurve(curveData, context);\n      }\n\n      return curveData;\n    }\n\n    /**\n     * Determines catenary parameter.\n     * \n     * @param {Number} h Horizontal distance of both points.\n     * @param {Number} v Vertical distance of both points.\n     * @param {Number} length The catenary length.\n     * @param {Number} limit Maximum amount of iterations to find parameter.\n     */\n\n  }, {\n    key: 'getCatenaryParameter',\n    value: function getCatenaryParameter(h, v, length, limit) {\n      var m = Math.sqrt(length * length - v * v) / h;\n      var x = Math.acosh(m) + 1;\n      var prevx = -1;\n      var count = 0;\n\n      while (Math.abs(x - prevx) > EPSILON && count < limit) {\n        prevx = x;\n        x = x - (Math.sinh(x) - m * x) / (Math.cosh(x) - m);\n        count++;\n      }\n\n      return h / (2 * x);\n    }\n\n    /**\n     * Calculate the catenary curve.\n     * Increasing the segments value will produce a catenary closer\n     * to reality, but will require more calcluations.\n     * \n     * @param {Number} a The catenary parameter.\n     * @param {Point} p1 First point\n     * @param {Point} p2 Second point\n     * @param {Number} offsetX The calculated offset on the x axis.\n     * @param {Number} offsetY The calculated offset on the y axis.\n     * @param {Number} segments How many \"parts\" the chain should be made of.\n     */\n\n  }, {\n    key: 'getCurve',\n    value: function getCurve(a, p1, p2, offsetX, offsetY, segments) {\n      var data = [p1.x, a * Math.cosh((p1.x - offsetX) / a) + offsetY];\n\n      var d = p2.x - p1.x;\n      var length = segments - 1;\n\n      for (var i = 0; i < length; i++) {\n        var x = p1.x + d * (i + 0.5) / length;\n        var y = a * Math.cosh((x - offsetX) / a) + offsetY;\n        data.push(x, y);\n      }\n\n      data.push(p2.x, a * Math.cosh((p2.x - offsetX) / a) + offsetY);\n\n      return data;\n    }\n\n    /**\n     * Draws a straight line between two points.\n     *\n     * @param {Array} data Even indices are x, odd are y.\n     * @param {CanvasRenderingContext2D} context The context to draw to.\n     */\n\n  }, {\n    key: 'drawLine',\n    value: function drawLine(data, context) {\n      context.moveTo(data[0][0], data[0][1]);\n\n      context.lineTo(data[1][0], data[1][1]);\n    }\n\n    /**\n     * Draws a quadratic curve between every calculated catenary segment,\n     * so that the segments don't look like straight lines.\n     *\n     * @param {Array} data Even indices are x, odd are y.\n     * @param {CanvasRenderingContext2D} context The context to draw to.\n     * \n     * @returns {Array} The original segment coordinates.\n     */\n\n  }, {\n    key: 'drawCurve',\n    value: function drawCurve(data, context) {\n      var length = data.length * 0.5 - 1;\n      var ox = data[2];\n      var oy = data[3];\n\n      var temp = [];\n\n      context.moveTo(data[0], data[1]);\n\n      for (var i = 2; i < length; i++) {\n        var x = data[i * 2];\n        var y = data[i * 2 + 1];\n        var mx = (x + ox) * 0.5;\n        var my = (y + oy) * 0.5;\n        temp.push([ox, oy, mx, my]);\n        context.quadraticCurveTo(ox, oy, mx, my);\n        ox = x;\n        oy = y;\n      }\n\n      length = data.length;\n      context.quadraticCurveTo(data[length - 4], data[length - 3], data[length - 2], data[length - 1]);\n\n      return temp;\n    }\n  }]);\n\n  return Catenary;\n}();\n\nexports.default = Catenary;", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Point = exports.Catenary = undefined;\n\nvar _Catenary = require('./Catenary');\n\nvar _Catenary2 = _interopRequireDefault(_Catenary);\n\nvar _Point = require('./Point');\n\nvar _Point2 = _interopRequireDefault(_Point);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Catenary = _Catenary2.default;\nexports.Point = _Point2.default;", "function _createForOfIteratorHelperLoose(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; return function () { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } it = o[Symbol.iterator](); return it.next.bind(it); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { LazyBrush } from \"lazy-brush\";\nimport { Catenary } from \"catenary-curve\";\nimport ResizeObserver from \"resize-observer-polyfill\";\nimport CoordinateSystem, { IDENTITY } from \"./coordinateSystem\";\nimport drawImage from \"./drawImage\";\nimport { DefaultState } from \"./interactionStateMachine\";\nimport makePassiveEventOption from \"./makePassiveEventOption\";\n\nfunction midPointBtw(p1, p2) {\n  return {\n    x: p1.x + (p2.x - p1.x) / 2,\n    y: p1.y + (p2.y - p1.y) / 2\n  };\n}\n\nvar canvasStyle = {\n  display: \"block\",\n  position: \"absolute\"\n}; // The order of these is important: grid > drawing > temp > interface\n\nvar canvasTypes = [\"grid\", \"drawing\", \"temp\", \"interface\"];\nvar dimensionsPropTypes = process.env.NODE_ENV !== \"production\" ? PropTypes.oneOfType([PropTypes.number, PropTypes.string]) : {};\nvar boundsProp = process.env.NODE_ENV !== \"production\" ? PropTypes.shape({\n  min: PropTypes.number.isRequired,\n  max: PropTypes.number.isRequired\n}) : {};\n\nvar CanvasDraw = /*#__PURE__*/function (_PureComponent) {\n  _inheritsLoose(CanvasDraw, _PureComponent);\n\n  ///// public API /////////////////////////////////////////////////////////////\n  function CanvasDraw(props) {\n    var _this;\n\n    _this = _PureComponent.call(this, props) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"undo\", function () {\n      var lines = [];\n\n      if (_this.lines.length) {\n        lines = _this.lines.slice(0, -1);\n      } else if (_this.erasedLines.length) {\n        lines = _this.erasedLines.pop();\n      }\n\n      _this.clearExceptErasedLines();\n\n      _this.simulateDrawingLines({\n        lines: lines,\n        immediate: true\n      });\n\n      _this.triggerOnChange();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"eraseAll\", function () {\n      _this.erasedLines.push([].concat(_this.lines));\n\n      _this.clearExceptErasedLines();\n\n      _this.triggerOnChange();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clear\", function () {\n      _this.erasedLines = [];\n\n      _this.clearExceptErasedLines();\n\n      _this.resetView();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetView\", function () {\n      return _this.coordSystem.resetView();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setView\", function (view) {\n      return _this.coordSystem.setView(view);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getSaveData\", function () {\n      // Construct and return the stringified saveData object\n      return JSON.stringify({\n        lines: _this.lines,\n        width: _this.props.canvasWidth,\n        height: _this.props.canvasHeight\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getDataURL\", function (fileType, useBgImage, backgroundColour) {\n      // Get a reference to the \"drawing\" layer of the canvas\n      var canvasToExport = _this.canvas.drawing;\n      var context = canvasToExport.getContext(\"2d\"); //cache height and width\n\n      var width = canvasToExport.width;\n      var height = canvasToExport.height; //get the current ImageData for the canvas\n\n      var storedImageData = context.getImageData(0, 0, width, height); //store the current globalCompositeOperation\n\n      var compositeOperation = context.globalCompositeOperation; //set to draw behind current content\n\n      context.globalCompositeOperation = \"destination-over\"; // If \"useBgImage\" has been set to true, this takes precedence over the background colour parameter\n\n      if (useBgImage) {\n        if (!_this.props.imgSrc) return \"Background image source not set\"; // Write the background image\n\n        _this.drawImage();\n      } else if (backgroundColour != null) {\n        //set background color\n        context.fillStyle = backgroundColour; //fill entire canvas with background colour\n\n        context.fillRect(0, 0, width, height);\n      } // If the file type has not been specified, default to PNG\n\n\n      if (!fileType) fileType = \"png\"; // Export the canvas to data URL\n\n      var imageData = canvasToExport.toDataURL(\"image/\" + fileType); //clear the canvas\n\n      context.clearRect(0, 0, width, height); //restore it with original / cached ImageData\n\n      context.putImageData(storedImageData, 0, 0); //reset the globalCompositeOperation to what it was\n\n      context.globalCompositeOperation = compositeOperation;\n      return imageData;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadSaveData\", function (saveData, immediate) {\n      if (immediate === void 0) {\n        immediate = _this.props.immediateLoading;\n      }\n\n      if (typeof saveData !== \"string\") {\n        throw new Error(\"saveData needs to be of type string!\");\n      }\n\n      var _JSON$parse = JSON.parse(saveData),\n          lines = _JSON$parse.lines,\n          width = _JSON$parse.width,\n          height = _JSON$parse.height;\n\n      if (!lines || typeof lines.push !== \"function\") {\n        throw new Error(\"saveData.lines needs to be an array!\");\n      }\n\n      _this.clear();\n\n      if (width === _this.props.canvasWidth && height === _this.props.canvasHeight) {\n        _this.simulateDrawingLines({\n          lines: lines,\n          immediate: immediate\n        });\n      } else {\n        // we need to rescale the lines based on saved & current dimensions\n        var scaleX = _this.props.canvasWidth / width;\n        var scaleY = _this.props.canvasHeight / height;\n        var scaleAvg = (scaleX + scaleY) / 2;\n\n        _this.simulateDrawingLines({\n          lines: lines.map(function (line) {\n            return _extends({}, line, {\n              points: line.points.map(function (p) {\n                return {\n                  x: p.x * scaleX,\n                  y: p.y * scaleY\n                };\n              }),\n              brushRadius: line.brushRadius * scaleAvg\n            });\n          }),\n          immediate: immediate\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"componentWillUnmount\", function () {\n      _this.canvasObserver.unobserve(_this.canvasContainer);\n\n      _this.canvas[\"interface\"] && _this.canvas[\"interface\"].removeEventListener(\"wheel\", _this.handleWheel);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleWheel\", function (e) {\n      _this.interactionSM = _this.interactionSM.handleMouseWheel(e, _assertThisInitialized(_this));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDrawStart\", function (e) {\n      _this.interactionSM = _this.interactionSM.handleDrawStart(e, _assertThisInitialized(_this));\n      _this.mouseHasMoved = true;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDrawMove\", function (e) {\n      _this.interactionSM = _this.interactionSM.handleDrawMove(e, _assertThisInitialized(_this));\n      _this.mouseHasMoved = true;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDrawEnd\", function (e) {\n      _this.interactionSM = _this.interactionSM.handleDrawEnd(e, _assertThisInitialized(_this));\n      _this.mouseHasMoved = true;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"applyView\", function () {\n      if (!_this.ctx.drawing) {\n        return;\n      }\n\n      canvasTypes.map(function (name) {\n        return _this.ctx[name];\n      }).forEach(function (ctx) {\n        _this.clearWindow(ctx);\n\n        var m = _this.coordSystem.transformMatrix;\n        ctx.setTransform(m.a, m.b, m.c, m.d, m.e, m.f);\n      });\n\n      if (!_this.deferRedrawOnViewChange) {\n        _this.drawGrid(_this.ctx.grid);\n\n        _this.redrawImage();\n\n        _this.loop({\n          once: true\n        });\n\n        var lines = _this.lines;\n        _this.lines = [];\n\n        _this.simulateDrawingLines({\n          lines: lines,\n          immediate: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleCanvasResize\", function (entries) {\n      var saveData = _this.getSaveData();\n\n      _this.deferRedrawOnViewChange = true;\n\n      try {\n        for (var _iterator = _createForOfIteratorHelperLoose(entries), _step; !(_step = _iterator()).done;) {\n          var entry = _step.value;\n          var _entry$contentRect = entry.contentRect,\n              width = _entry$contentRect.width,\n              height = _entry$contentRect.height;\n\n          _this.setCanvasSize(_this.canvas[\"interface\"], width, height);\n\n          _this.setCanvasSize(_this.canvas.drawing, width, height);\n\n          _this.setCanvasSize(_this.canvas.temp, width, height);\n\n          _this.setCanvasSize(_this.canvas.grid, width, height);\n\n          _this.coordSystem.documentSize = {\n            width: width,\n            height: height\n          };\n\n          _this.drawGrid(_this.ctx.grid);\n\n          _this.drawImage();\n\n          _this.loop({\n            once: true\n          });\n        }\n\n        _this.loadSaveData(saveData, true);\n      } finally {\n        _this.deferRedrawOnViewChange = false;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clampPointToDocument\", function (point) {\n      if (_this.props.clampLinesToDocument) {\n        return {\n          x: Math.max(Math.min(point.x, _this.props.canvasWidth), 0),\n          y: Math.max(Math.min(point.y, _this.props.canvasHeight), 0)\n        };\n      } else {\n        return point;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"redrawImage\", function () {\n      _this.image && _this.image.complete && drawImage({\n        ctx: _this.ctx.grid,\n        img: _this.image\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"simulateDrawingLines\", function (_ref) {\n      var lines = _ref.lines,\n          immediate = _ref.immediate;\n      // Simulate live-drawing of the loaded lines\n      // TODO use a generator\n      var curTime = 0;\n      var timeoutGap = immediate ? 0 : _this.props.loadTimeOffset;\n      lines.forEach(function (line) {\n        var points = line.points,\n            brushColor = line.brushColor,\n            brushRadius = line.brushRadius; // Draw all at once if immediate flag is set, instead of using setTimeout\n\n        if (immediate) {\n          // Draw the points\n          _this.drawPoints({\n            points: points,\n            brushColor: brushColor,\n            brushRadius: brushRadius\n          }); // Save line with the drawn points\n\n\n          _this.points = points;\n\n          _this.saveLine({\n            brushColor: brushColor,\n            brushRadius: brushRadius\n          });\n\n          return;\n        } // Use timeout to draw\n\n\n        var _loop = function _loop(i) {\n          curTime += timeoutGap;\n          window.setTimeout(function () {\n            _this.drawPoints({\n              points: points.slice(0, i + 1),\n              brushColor: brushColor,\n              brushRadius: brushRadius\n            });\n          }, curTime);\n        };\n\n        for (var i = 1; i < points.length; i++) {\n          _loop(i);\n        }\n\n        curTime += timeoutGap;\n        window.setTimeout(function () {\n          // Save this line with its props instead of this.props\n          _this.points = points;\n\n          _this.saveLine({\n            brushColor: brushColor,\n            brushRadius: brushRadius\n          });\n        }, curTime);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setCanvasSize\", function (canvas, width, height) {\n      canvas.width = width;\n      canvas.height = height;\n      canvas.style.width = width;\n      canvas.style.height = height;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"drawPoints\", function (_ref2) {\n      var points = _ref2.points,\n          brushColor = _ref2.brushColor,\n          brushRadius = _ref2.brushRadius;\n      _this.ctx.temp.lineJoin = \"round\";\n      _this.ctx.temp.lineCap = \"round\";\n      _this.ctx.temp.strokeStyle = brushColor;\n\n      _this.clearWindow(_this.ctx.temp);\n\n      _this.ctx.temp.lineWidth = brushRadius * 2;\n      var p1 = points[0];\n      var p2 = points[1];\n\n      _this.ctx.temp.moveTo(p2.x, p2.y);\n\n      _this.ctx.temp.beginPath();\n\n      for (var i = 1, len = points.length; i < len; i++) {\n        // we pick the point between pi+1 & pi+2 as the\n        // end point and p1 as our control point\n        var midPoint = midPointBtw(p1, p2);\n\n        _this.ctx.temp.quadraticCurveTo(p1.x, p1.y, midPoint.x, midPoint.y);\n\n        p1 = points[i];\n        p2 = points[i + 1];\n      } // Draw last line as a straight line while\n      // we wait for the next point to be able to calculate\n      // the bezier control point\n\n\n      _this.ctx.temp.lineTo(p1.x, p1.y);\n\n      _this.ctx.temp.stroke();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"saveLine\", function (_temp) {\n      var _ref3 = _temp === void 0 ? {} : _temp,\n          brushColor = _ref3.brushColor,\n          brushRadius = _ref3.brushRadius;\n\n      if (_this.points.length < 2) return; // Save as new line\n\n      _this.lines.push({\n        points: [].concat(_this.points),\n        brushColor: brushColor || _this.props.brushColor,\n        brushRadius: brushRadius || _this.props.brushRadius\n      }); // Reset points array\n\n\n      _this.points.length = 0; // Copy the line to the drawing canvas\n\n      _this.inClientSpace([_this.ctx.drawing, _this.ctx.temp], function () {\n        _this.ctx.drawing.drawImage(_this.canvas.temp, 0, 0, _this.canvas.drawing.width, _this.canvas.drawing.height);\n      }); // Clear the temporary line-drawing canvas\n\n\n      _this.clearWindow(_this.ctx.temp);\n\n      _this.triggerOnChange();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"triggerOnChange\", function () {\n      _this.props.onChange && _this.props.onChange(_assertThisInitialized(_this));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearWindow\", function (ctx) {\n      _this.inClientSpace([ctx], function () {\n        return ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearExceptErasedLines\", function () {\n      _this.lines = [];\n      _this.valuesChanged = true;\n\n      _this.clearWindow(_this.ctx.drawing);\n\n      _this.clearWindow(_this.ctx.temp);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loop\", function (_temp2) {\n      var _ref4 = _temp2 === void 0 ? {} : _temp2,\n          _ref4$once = _ref4.once,\n          once = _ref4$once === void 0 ? false : _ref4$once;\n\n      if (_this.mouseHasMoved || _this.valuesChanged) {\n        var pointer = _this.lazy.getPointerCoordinates();\n\n        var brush = _this.lazy.getBrushCoordinates();\n\n        _this.drawInterface(_this.ctx[\"interface\"], pointer, brush);\n\n        _this.mouseHasMoved = false;\n        _this.valuesChanged = false;\n      }\n\n      if (!once) {\n        window.requestAnimationFrame(function () {\n          _this.loop();\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"inClientSpace\", function (ctxs, action) {\n      ctxs.forEach(function (ctx) {\n        ctx.save();\n        ctx.setTransform(IDENTITY.a, IDENTITY.b, IDENTITY.c, IDENTITY.d, IDENTITY.e, IDENTITY.f);\n      });\n\n      try {\n        action();\n      } finally {\n        ctxs.forEach(function (ctx) {\n          return ctx.restore();\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"drawImage\", function () {\n      if (!_this.props.imgSrc) return; // Load the image\n\n      _this.image = new Image(); // Prevent SecurityError \"Tainted canvases may not be exported.\" #70\n\n      _this.image.crossOrigin = \"anonymous\"; // Draw the image once loaded\n\n      _this.image.onload = _this.redrawImage;\n      _this.image.src = _this.props.imgSrc;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"drawGrid\", function (ctx) {\n      if (_this.props.hideGrid) return;\n\n      _this.clearWindow(ctx);\n\n      var gridSize = 25;\n      var _this$coordSystem$can = _this.coordSystem.canvasBounds,\n          viewMin = _this$coordSystem$can.viewMin,\n          viewMax = _this$coordSystem$can.viewMax;\n      var minx = Math.floor(viewMin.x / gridSize - 1) * gridSize;\n      var miny = Math.floor(viewMin.y / gridSize - 1) * gridSize;\n      var maxx = viewMax.x + gridSize;\n      var maxy = viewMax.y + gridSize;\n      ctx.beginPath();\n      ctx.setLineDash([5, 1]);\n      ctx.setLineDash([]);\n      ctx.strokeStyle = _this.props.gridColor;\n      ctx.lineWidth = _this.props.gridLineWidth;\n\n      if (!_this.props.hideGridX) {\n        var countX = minx;\n        var gridSizeX = _this.props.gridSizeX;\n\n        while (countX < maxx) {\n          countX += gridSizeX;\n          ctx.moveTo(countX, miny);\n          ctx.lineTo(countX, maxy);\n        }\n\n        ctx.stroke();\n      }\n\n      if (!_this.props.hideGridY) {\n        var countY = miny;\n        var gridSizeY = _this.props.gridSizeY;\n\n        while (countY < maxy) {\n          countY += gridSizeY;\n          ctx.moveTo(minx, countY);\n          ctx.lineTo(maxx, countY);\n        }\n\n        ctx.stroke();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"drawInterface\", function (ctx, pointer, brush) {\n      if (_this.props.hideInterface) return;\n\n      _this.clearWindow(ctx); // Draw brush preview\n\n\n      ctx.beginPath();\n      ctx.fillStyle = _this.props.brushColor;\n      ctx.arc(brush.x, brush.y, _this.props.brushRadius, 0, Math.PI * 2, true);\n      ctx.fill(); // Draw mouse point (the one directly at the cursor)\n\n      ctx.beginPath();\n      ctx.fillStyle = _this.props.catenaryColor;\n      ctx.arc(pointer.x, pointer.y, 4, 0, Math.PI * 2, true);\n      ctx.fill(); // Draw catenary\n\n      if (_this.lazy.isEnabled()) {\n        ctx.beginPath();\n        ctx.lineWidth = 2;\n        ctx.lineCap = \"round\";\n        ctx.setLineDash([2, 4]);\n        ctx.strokeStyle = _this.props.catenaryColor;\n\n        _this.catenary.drawToCanvas(_this.ctx[\"interface\"], brush, pointer, _this.chainLength);\n\n        ctx.stroke();\n      } // Draw brush point (the one in the middle of the brush preview)\n\n\n      ctx.beginPath();\n      ctx.fillStyle = _this.props.catenaryColor;\n      ctx.arc(brush.x, brush.y, 2, 0, Math.PI * 2, true);\n      ctx.fill();\n    });\n\n    _this.canvas = {};\n    _this.ctx = {};\n    _this.catenary = new Catenary();\n    _this.points = [];\n    _this.lines = [];\n    _this.erasedLines = [];\n    _this.mouseHasMoved = true;\n    _this.valuesChanged = true;\n    _this.isDrawing = false;\n    _this.isPressing = false;\n    _this.deferRedrawOnViewChange = false;\n    _this.interactionSM = new DefaultState();\n    _this.coordSystem = new CoordinateSystem({\n      scaleExtents: props.zoomExtents,\n      documentSize: {\n        width: props.canvasWidth,\n        height: props.canvasHeight\n      }\n    });\n\n    _this.coordSystem.attachViewChangeListener(_this.applyView.bind(_assertThisInitialized(_this)));\n\n    return _this;\n  }\n\n  var _proto = CanvasDraw.prototype;\n\n  ///// private API ////////////////////////////////////////////////////////////\n  ///// React Lifecycle\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.lazy = new LazyBrush({\n      radius: this.props.lazyRadius * window.devicePixelRatio,\n      enabled: true,\n      initialPoint: {\n        x: window.innerWidth / 2,\n        y: window.innerHeight / 2\n      }\n    });\n    this.chainLength = this.props.lazyRadius * window.devicePixelRatio;\n    this.canvasObserver = new ResizeObserver(function (entries, observer) {\n      return _this2.handleCanvasResize(entries, observer);\n    });\n    this.canvasObserver.observe(this.canvasContainer);\n    this.drawImage();\n    this.loop();\n    window.setTimeout(function () {\n      var initX = window.innerWidth / 2;\n      var initY = window.innerHeight / 2;\n\n      _this2.lazy.update({\n        x: initX - _this2.chainLength / 4,\n        y: initY\n      }, {\n        both: true\n      });\n\n      _this2.lazy.update({\n        x: initX + _this2.chainLength / 4,\n        y: initY\n      }, {\n        both: false\n      });\n\n      _this2.mouseHasMoved = true;\n      _this2.valuesChanged = true;\n\n      _this2.clearExceptErasedLines(); // Load saveData from prop if it exists\n\n\n      if (_this2.props.saveData) {\n        _this2.loadSaveData(_this2.props.saveData);\n      }\n    }, 100); // Attach our wheel event listener here instead of in the render so that we can specify a non-passive listener.\n    // This is necessary to prevent the default event action on chrome.\n    // https://github.com/facebook/react/issues/14856\n\n    this.canvas[\"interface\"] && this.canvas[\"interface\"].addEventListener(\"wheel\", this.handleWheel, makePassiveEventOption());\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (prevProps.lazyRadius !== this.props.lazyRadius) {\n      // Set new lazyRadius values\n      this.chainLength = this.props.lazyRadius * window.devicePixelRatio;\n      this.lazy.setRadius(this.props.lazyRadius * window.devicePixelRatio);\n    }\n\n    if (prevProps.saveData !== this.props.saveData) {\n      this.loadSaveData(this.props.saveData);\n    }\n\n    if (JSON.stringify(prevProps) !== JSON.stringify(this.props)) {\n      // Signal this.loop function that values changed\n      this.valuesChanged = true;\n    }\n\n    this.coordSystem.scaleExtents = this.props.zoomExtents;\n\n    if (!this.props.enablePanAndZoom) {\n      this.coordSystem.resetView();\n    }\n\n    if (prevProps.imgSrc !== this.props.imgSrc) {\n      this.drawImage();\n    }\n  };\n\n  _proto.render = function render() {\n    var _this3 = this;\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: this.props.className,\n      style: _extends({\n        display: \"block\",\n        background: this.props.backgroundColor,\n        touchAction: \"none\",\n        width: this.props.canvasWidth,\n        height: this.props.canvasHeight\n      }, this.props.style),\n      ref: function ref(container) {\n        if (container) {\n          _this3.canvasContainer = container;\n        }\n      }\n    }, canvasTypes.map(function (name) {\n      var isInterface = name === \"interface\";\n      return /*#__PURE__*/React.createElement(\"canvas\", {\n        key: name,\n        ref: function ref(canvas) {\n          if (canvas) {\n            _this3.canvas[name] = canvas;\n            _this3.ctx[name] = canvas.getContext(\"2d\");\n\n            if (isInterface) {\n              _this3.coordSystem.canvas = canvas;\n            }\n          }\n        },\n        style: _extends({}, canvasStyle),\n        onMouseDown: isInterface ? _this3.handleDrawStart : undefined,\n        onMouseMove: isInterface ? _this3.handleDrawMove : undefined,\n        onMouseUp: isInterface ? _this3.handleDrawEnd : undefined,\n        onMouseOut: isInterface ? _this3.handleDrawEnd : undefined,\n        onTouchStart: isInterface ? _this3.handleDrawStart : undefined,\n        onTouchMove: isInterface ? _this3.handleDrawMove : undefined,\n        onTouchEnd: isInterface ? _this3.handleDrawEnd : undefined,\n        onTouchCancel: isInterface ? _this3.handleDrawEnd : undefined\n      });\n    }));\n  } ///// Event Handlers\n  ;\n\n  return CanvasDraw;\n}(PureComponent);\n\n_defineProperty(CanvasDraw, \"defaultProps\", {\n  onChange: null,\n  loadTimeOffset: 5,\n  lazyRadius: 12,\n  brushRadius: 10,\n  brushColor: \"#444\",\n  catenaryColor: \"#0a0302\",\n  gridColor: \"rgba(150,150,150,0.17)\",\n  backgroundColor: \"#FFF\",\n  hideGrid: false,\n  canvasWidth: 400,\n  canvasHeight: 400,\n  disabled: false,\n  imgSrc: \"\",\n  saveData: \"\",\n  immediateLoading: false,\n  hideInterface: false,\n  gridSizeX: 25,\n  gridSizeY: 25,\n  gridLineWidth: 0.5,\n  hideGridX: false,\n  hideGridY: false,\n  enablePanAndZoom: false,\n  mouseZoomFactor: 0.01,\n  zoomExtents: {\n    min: 0.33,\n    max: 3\n  },\n  clampLinesToDocument: false\n});\n\nexport { CanvasDraw as default };\nCanvasDraw.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  onChange: PropTypes.func,\n  loadTimeOffset: PropTypes.number,\n  lazyRadius: PropTypes.number,\n  brushRadius: PropTypes.number,\n  brushColor: PropTypes.string,\n  catenaryColor: PropTypes.string,\n  gridColor: PropTypes.string,\n  backgroundColor: PropTypes.string,\n  hideGrid: PropTypes.bool,\n  canvasWidth: dimensionsPropTypes,\n  canvasHeight: dimensionsPropTypes,\n  disabled: PropTypes.bool,\n  imgSrc: PropTypes.string,\n  saveData: PropTypes.string,\n  immediateLoading: PropTypes.bool,\n  hideInterface: PropTypes.bool,\n  gridSizeX: PropTypes.number,\n  gridSizeY: PropTypes.number,\n  gridLineWidth: PropTypes.number,\n  hideGridX: PropTypes.bool,\n  hideGridY: PropTypes.bool,\n  enablePanAndZoom: PropTypes.bool,\n  mouseZoomFactor: PropTypes.number,\n  zoomExtents: boundsProp,\n  clampLinesToDocument: PropTypes.bool\n} : {};", "/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n", "function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * @type {ViewPoint}\n */\nvar NULL_VIEW_POINT = Object.freeze({\n  x: 0,\n  y: 0,\n  untransformedX: 0,\n  untransformedY: 0\n});\n/**\n * @type {CanvasBounds}\n */\n\nvar NULL_BOUNDS = Object.freeze({\n  canvasWidth: 0,\n  canvasHeight: 0,\n  left: 0,\n  top: 0,\n  right: 0,\n  bottom: 0,\n  viewMin: NULL_VIEW_POINT,\n  viewMax: NULL_VIEW_POINT\n});\n/**\n * The identity matrix (a transform that results in view coordinates that are\n * identical to relative client coordinates).\n * @type {Matrix}\n */\n\nexport var IDENTITY = Object.freeze({\n  a: 1,\n  b: 0,\n  c: 0,\n  d: 1,\n  e: 0,\n  f: 0\n});\n\nfunction valueOrDefault(value, defaultValue) {\n  if (value === null || typeof value === \"undefined\") {\n    return defaultValue;\n  } else {\n    return value;\n  }\n}\n/**\n * Facilitates calculation and manipulation of a zoom-and-pannable view within a\n * canvas.\n */\n\n\nvar CoordinateSystem = /*#__PURE__*/function () {\n  /**\n   * @typedef Extents\n   * @property {number} min the minimal value in the range\n   * @property {number} max the maximal value in the range\n   */\n\n  /**\n   * @typedef Size\n   * @property {number} width the span of the element's horizontal axis\n   * @property {number} height the span of the element's vertical axis\n   */\n\n  /**\n   * @param {Object} parameters the initialization parameters for this instance.\n   * @param {Extents} parameters.scaleExtents the minimum and maximum allowable scale factor.\n   * @param {Sizee} parameters.documentSize the width and height of the document, in client space.\n   */\n  function CoordinateSystem(_ref) {\n    var _this = this;\n\n    var scaleExtents = _ref.scaleExtents,\n        documentSize = _ref.documentSize;\n\n    _defineProperty(this, \"_scaleExtents\", void 0);\n\n    _defineProperty(this, \"_documentSize\", void 0);\n\n    _defineProperty(this, \"_canvas\", null);\n\n    _defineProperty(this, \"_view\", {\n      scale: 1.0,\n      x: 0,\n      y: 0\n    });\n\n    _defineProperty(this, \"_viewChangeListeners\", new Set());\n\n    _defineProperty(this, \"setScale\", function (scale) {\n      _this.setView({\n        scale: scale\n      });\n    });\n\n    _defineProperty(this, \"clampView\", function (_ref2) {\n      var scale = _ref2.scale,\n          x = _ref2.x,\n          y = _ref2.y;\n      var _this$scaleExtents = _this.scaleExtents,\n          min = _this$scaleExtents.min,\n          max = _this$scaleExtents.max;\n      var _this$documentSize = _this.documentSize,\n          width = _this$documentSize.width,\n          height = _this$documentSize.height;\n\n      var _ref3 = _this.canvasRect || NULL_BOUNDS,\n          left = _ref3.left,\n          top = _ref3.top,\n          right = _ref3.right,\n          bottom = _ref3.bottom;\n\n      var canvasWidth = right - left;\n      var canvasHeight = bottom - top;\n      var maxx = canvasWidth / 2;\n      var minx = -(width * _this._view.scale - canvasWidth / 2);\n      var maxy = canvasHeight / 2;\n      var miny = -(height * _this._view.scale - canvasHeight / 2); // Clamp values to acceptible range.\n\n      return {\n        scale: Math.min(Math.max(scale, min), max),\n        x: Math.min(Math.max(x, minx), maxx),\n        y: Math.min(Math.max(y, miny), maxy)\n      };\n    });\n\n    _defineProperty(this, \"resetView\", function () {\n      _this.setView({\n        scale: 1.0,\n        x: 0,\n        y: 0\n      });\n    });\n\n    _defineProperty(this, \"setView\", function (view) {\n      var newView = _this.clampView(_extends({}, _this._view, view || {}));\n\n      var _this$_view = _this._view,\n          scale = _this$_view.scale,\n          x = _this$_view.x,\n          y = _this$_view.y; // Only trigger if the view actually changed.\n\n      if (newView.scale !== scale || newView.x !== x || newView.y !== y) {\n        _this._view = newView;\n\n        _this._viewChangeListeners.forEach(function (listener) {\n          return listener && listener(newView);\n        });\n      }\n\n      return _extends({}, _this._view);\n    });\n\n    _defineProperty(this, \"scaleAtClientPoint\", function (deltaScale, clientPoint) {\n      var viewPt = _this.clientPointToViewPoint(clientPoint);\n\n      var newView = _this.clampView(_extends({}, _this._view, {\n        scale: _this._view.scale + deltaScale\n      }));\n\n      var clientPtPostScale = _this.viewPointToClientPoint(viewPt, newView);\n\n      newView.x = _this._view.x - (clientPtPostScale.clientX - clientPoint.clientX);\n      newView.y = _this._view.y - (clientPtPostScale.clientY - clientPoint.clientY);\n      return _this.setView(newView);\n    });\n\n    _defineProperty(this, \"clientPointToViewPoint\", function (_ref4, view) {\n      var clientX = _ref4.clientX,\n          clientY = _ref4.clientY;\n\n      if (view === void 0) {\n        view = _this._view;\n      }\n\n      var _ref5 = _this.canvasRect || NULL_BOUNDS,\n          left = _ref5.left,\n          top = _ref5.top;\n\n      var relativeClientX = clientX - left;\n      var relativeClientY = clientY - top;\n      return {\n        x: (relativeClientX - view.x) / view.scale,\n        y: (relativeClientY - view.y) / view.scale,\n        relativeClientX: relativeClientX,\n        relativeClientY: relativeClientY\n      };\n    });\n\n    _defineProperty(this, \"viewPointToClientPoint\", function (_ref6, view) {\n      var x = _ref6.x,\n          y = _ref6.y;\n\n      if (view === void 0) {\n        view = _this._view;\n      }\n\n      var _ref7 = _this.canvasRect || NULL_BOUNDS,\n          left = _ref7.left,\n          top = _ref7.top;\n\n      var relativeX = x * view.scale + view.x;\n      var relativeY = y * view.scale + view.y;\n      var clientX = relativeX + left;\n      var clientY = relativeY + top;\n      return {\n        clientX: clientX,\n        clientY: clientY,\n        relativeX: relativeX,\n        relativeY: relativeY,\n        x: clientX,\n        y: clientY\n      };\n    });\n\n    _defineProperty(this, \"attachViewChangeListener\", function (listener) {\n      _this._viewChangeListeners.add(listener);\n    });\n\n    this._scaleExtents = scaleExtents;\n    this._documentSize = documentSize;\n  }\n  /**\n   * @type {Extents}\n   */\n\n\n  _createClass(CoordinateSystem, [{\n    key: \"canvas\",\n\n    /**\n     * @returns {Canvas} the canvas currently associated with this instance.\n     */\n    get: function get() {\n      return this._canvas;\n    }\n    /**\n     * Updates the canvas for this coordinate system and recalculates the view.\n     * @param {Canvas} canvas the new canvas to associate with this instance.\n     */\n    ,\n    set: function set(canvas) {\n      this._canvas = canvas;\n      this.setView();\n    }\n    /**\n     * @returns {number} the current zoom factor\n     */\n\n  }, {\n    key: \"scale\",\n    get: function get() {\n      return this._view.scale;\n    }\n    /**\n     * Sets the zoom factor (clamped by the scale extents) and updates the view.\n     * @param {number} the new zoom factor\n     */\n\n  }, {\n    key: \"x\",\n\n    /**\n     * @returns {number} the horizontal component of the current pan offset\n     */\n    get: function get() {\n      return this._view.x;\n    }\n    /**\n     * Sets the horizontal pan offset (clamped by the document extents) and\n     * updates the view.\n     * @param {number} x the new offset\n     */\n    ,\n    set: function set(x) {\n      this.setView({\n        x: x\n      });\n    }\n    /**\n     * @retruns {number} the vertical component of the current pan offset\n     */\n\n  }, {\n    key: \"y\",\n    get: function get() {\n      return this._view.y;\n    }\n    /**\n     * Sets the vertical pan offset (clamped by the document extents) and\n     * updates the view.\n     * @param {number} y the new offset\n     */\n    ,\n    set: function set(y) {\n      this.setView({\n        y: y\n      });\n    }\n    /**\n     * @returns {View} a copy of this instance's current view state.\n     */\n\n  }, {\n    key: \"view\",\n    get: function get() {\n      return _extends({}, this._view);\n    }\n    /**\n     * @returns {Extents} a copy of the scale extents currently applied to this\n     * instance.\n     */\n\n  }, {\n    key: \"scaleExtents\",\n    get: function get() {\n      return _extends({}, this._scaleExtents);\n    }\n    /**\n     * Updates the minimum and maximum scale and resets the view transform if it\n     * is outside the new extents.\n     * @param {Extents} extents the new scale extents.\n     */\n    ,\n    set: function set(_ref8) {\n      var min = _ref8.min,\n          max = _ref8.max;\n      this._scaleExtents = {\n        min: min,\n        max: max\n      };\n      this.setView();\n    }\n    /**\n     * @returns {Size} the current document size (used to constrain the pan\n     * offset).\n     */\n\n  }, {\n    key: \"documentSize\",\n    get: function get() {\n      return _extends({}, this._documentSize);\n    }\n    /**\n     * Sets the document size and recalculates the view if it is outside the new\n     * bounds.\n     * @param {Size} size the new document size.\n     */\n    ,\n    set: function set(_ref9) {\n      var width = _ref9.width,\n          height = _ref9.height;\n      this._documentSize = {\n        width: width,\n        height: height\n      };\n      this.setView();\n    }\n    /**\n     * A view matrix expressing a series of transformations.\n     * https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/setTransform\n     * @typedef Matrix\n     * @property {number} a horizontal scaling factor (1 == unscaled)\n     * @property {number} b vertical skewing factor (0 == unskewed)\n     * @property {number} c horizontal skewing factor (0 == unskewed)\n     * @property {number} d vertical scaling factor (1 == unscaled)\n     * @property {number} e horizontal translation (0 == untranslated)\n     * @property {number} f vertical translation (0 == untranslated)\n     */\n\n    /**\n     * @returns {Matrix} this coordinate system's current transformation matrix\n     */\n\n  }, {\n    key: \"transformMatrix\",\n    get: function get() {\n      //\n      return {\n        a: this._view.scale,\n        // horizontal scaling\n        b: 0,\n        // vertical skewing\n        c: 0,\n        // horizontal skewing\n        d: this._view.scale,\n        // vertical scaling\n        e: this._view.x,\n        f: this._view.y\n      };\n    }\n    /**\n     * An object expressing the bounds of a canvas object in terms of the\n     * coordinate system.\n     * @typedef CanvasBounds\n     * @property {number} left the left edge of the canvas in client space\n     * @property {number} right the right edge of the canvas in client space\n     * @property {number} top the top edge of the canvas in client space\n     * @property {number} bottom the bottom edge of the canvas in client space\n     * @property {number} canvasWidth the width of the canvas in client space\n     * @property {number} canvasHeight the height of the canvas in client space\n     * @property {ViewPoint} viewMin the top-left corner of the canvas in view space\n     * @property {ViewPoint} viewMax the bottom-right corner of the canvas in view space\n     */\n\n    /**\n     * @returns {CanvasBounds | undefined} the boundaries of the canvas linked to\n     * this coordinate system, or undefined if no canvas is set.\n     */\n\n  }, {\n    key: \"canvasBounds\",\n    get: function get() {\n      if (this._canvas) {\n        var _this$_canvas$getBoun = this._canvas.getBoundingClientRect(),\n            left = _this$_canvas$getBoun.left,\n            top = _this$_canvas$getBoun.top,\n            right = _this$_canvas$getBoun.right,\n            bottom = _this$_canvas$getBoun.bottom;\n\n        return {\n          viewMin: this.clientPointToViewPoint({\n            clientX: left,\n            clientY: top\n          }),\n          viewMax: this.clientPointToViewPoint({\n            clientX: right,\n            clientY: bottom\n          }),\n          left: left,\n          top: top,\n          right: right,\n          bottom: bottom,\n          canvasWidth: this._canvas.width,\n          canvasHeight: this._canvas.height\n        };\n      } else {\n        return undefined;\n      }\n    }\n    /**\n     * @private\n     * @return {{left: number, top: number} | undefined}\n     */\n\n  }, {\n    key: \"canvasRect\",\n    get: function get() {\n      if (this.canvas) {\n        return this.canvas.getBoundingClientRect();\n      } else {\n        return undefined;\n      }\n    }\n    /**\n     * Calculates a variant of the given view clamped according to the scale and\n     * document bounds. Does not modify this instance.\n     * @param {View} view the view constraints to clamp.\n     * @returns {View} a new view object representing the constrained input.\n     */\n\n  }]);\n\n  return CoordinateSystem;\n}();\n\nexport { CoordinateSystem as default };", "/** \n * Original from: https://stackoverflow.com/questions/21961839/simulation-background-size-cover-in-canvas\n * Original By Ken Fyrstenberg Nilsen\n * \n * Note: img must be fully loaded or have correct width & height set.\n */\nexport default function drawImageProp(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      ctx = _ref.ctx,\n      img = _ref.img,\n      x = _ref.x,\n      y = _ref.y,\n      w = _ref.w,\n      h = _ref.h,\n      offsetX = _ref.offsetX,\n      offsetY = _ref.offsetY;\n\n  // Defaults\n  if (typeof x !== \"number\") x = 0;\n  if (typeof y !== \"number\") y = 0;\n  if (typeof w !== \"number\") w = ctx.canvas.width;\n  if (typeof h !== \"number\") h = ctx.canvas.height;\n  if (typeof offsetX !== \"number\") offsetX = 0.5;\n  if (typeof offsetY !== \"number\") offsetY = 0.5; // keep bounds [0.0, 1.0]\n\n  if (offsetX < 0) offsetX = 0;\n  if (offsetY < 0) offsetY = 0;\n  if (offsetX > 1) offsetX = 1;\n  if (offsetY > 1) offsetY = 1;\n  var iw = img.width,\n      ih = img.height,\n      r = Math.min(w / iw, h / ih),\n      nw = iw * r,\n      // new prop. width\n  nh = ih * r,\n      // new prop. height\n  cx,\n      cy,\n      cw,\n      ch,\n      ar = 1; // decide which gap to fill\n\n  if (nw < w) ar = w / nw;\n  if (Math.abs(ar - 1) < 1e-14 && nh < h) ar = h / nh; // updated\n\n  nw *= ar;\n  nh *= ar; // calc source rectangle\n\n  cw = iw / (nw / w);\n  ch = ih / (nh / h);\n  cx = (iw - cw) * offsetX;\n  cy = (ih - ch) * offsetY; // make sure source rectangle is valid\n\n  if (cx < 0) cx = 0;\n  if (cy < 0) cy = 0;\n  if (cw > iw) cw = iw;\n  if (ch > ih) ch = ih; // fill image in dest. rectangle\n\n  ctx.drawImage(img, cx, cy, cw, ch, x, y, w, h);\n}", "var _this = this;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar TOUCH_SLOP = 10;\nvar PINCH_TIMEOUT_MS = 250;\n\nvar SUPPRESS_SCROLL = function SUPPRESS_SCROLL(e) {\n  // No zooming while drawing, but we'll cancel the scroll event.\n  e.preventDefault();\n  return _this;\n};\n/**\n * The default state for the interaction state machine. Supports zoom and\n * initiating pan and drawing actions.\n */\n\n\nexport var DefaultState = function DefaultState() {\n  var _this2 = this;\n\n  _defineProperty(this, \"handleMouseWheel\", function (e, canvasDraw) {\n    var _canvasDraw$props = canvasDraw.props,\n        disabled = _canvasDraw$props.disabled,\n        enablePanAndZoom = _canvasDraw$props.enablePanAndZoom,\n        mouseZoomFactor = _canvasDraw$props.mouseZoomFactor;\n\n    if (disabled) {\n      return new DisabledState();\n    } else if (enablePanAndZoom && e.ctrlKey) {\n      e.preventDefault();\n      canvasDraw.coordSystem.scaleAtClientPoint(mouseZoomFactor * e.deltaY, clientPointFromEvent(e));\n    }\n\n    return _this2;\n  });\n\n  _defineProperty(this, \"handleDrawStart\", function (e, canvasDraw) {\n    if (canvasDraw.props.disabled) {\n      return new DisabledState();\n    } else if (e.ctrlKey && canvasDraw.props.enablePanAndZoom) {\n      return new PanState().handleDrawStart(e, canvasDraw);\n    } else {\n      return new WaitForPinchState().handleDrawStart(e, canvasDraw);\n    }\n  });\n\n  _defineProperty(this, \"handleDrawMove\", function (e, canvasDraw) {\n    if (canvasDraw.props.disabled) {\n      return new DisabledState();\n    } else {\n      var _viewPointFromEvent = viewPointFromEvent(canvasDraw.coordSystem, e),\n          x = _viewPointFromEvent.x,\n          y = _viewPointFromEvent.y;\n\n      canvasDraw.lazy.update({\n        x: x,\n        y: y\n      });\n      return _this2;\n    }\n  });\n\n  _defineProperty(this, \"handleDrawEnd\", function (e, canvasDraw) {\n    return canvasDraw.props.disabled ? new DisabledState() : _this2;\n  });\n};\n;\n/**\n * This state is used as long as the disabled prop is active. It ignores all\n * events and doesn't prevent default actions. The disabled state can only be\n * triggered from the default state (i.e., while no action is actively being\n * performed).\n */\n\nexport var DisabledState = function DisabledState() {\n  var _this3 = this;\n\n  _defineProperty(this, \"handleMouseWheel\", function (e, canvasDraw) {\n    if (canvasDraw.props.disabled) {\n      return _this3;\n    } else {\n      return new DefaultState().handleMouseWheel(e, canvasDraw);\n    }\n  });\n\n  _defineProperty(this, \"handleDrawStart\", function (e, canvasDraw) {\n    if (canvasDraw.props.disabled) {\n      return _this3;\n    } else {\n      return new DefaultState().handleDrawStart(e, canvasDraw);\n    }\n  });\n\n  _defineProperty(this, \"handleDrawMove\", function (e, canvasDraw) {\n    if (canvasDraw.props.disabled) {\n      return _this3;\n    } else {\n      return new DefaultState().handleDrawMove(e, canvasDraw);\n    }\n  });\n\n  _defineProperty(this, \"handleDrawEnd\", function (e, canvasDraw) {\n    if (canvasDraw.props.disabled) {\n      return _this3;\n    } else {\n      return new DefaultState().handleDrawEnd(e, canvasDraw);\n    }\n  });\n};\n/**\n * This state is active as long as the user is panning the image. This state is\n * retained until the pan ceases.\n */\n\nexport var PanState = function PanState() {\n  var _this4 = this;\n\n  _defineProperty(this, \"handleMouseWheel\", SUPPRESS_SCROLL.bind(this));\n\n  _defineProperty(this, \"handleDrawStart\", function (e, canvasDraw) {\n    e.preventDefault();\n    _this4.dragStart = clientPointFromEvent(e);\n    _this4.panStart = {\n      x: canvasDraw.coordSystem.x,\n      y: canvasDraw.coordSystem.y\n    };\n    return _this4;\n  });\n\n  _defineProperty(this, \"handleDrawMove\", function (e, canvasDraw) {\n    e.preventDefault();\n\n    var _clientPointFromEvent = clientPointFromEvent(e),\n        clientX = _clientPointFromEvent.clientX,\n        clientY = _clientPointFromEvent.clientY;\n\n    var dx = clientX - _this4.dragStart.clientX;\n    var dy = clientY - _this4.dragStart.clientY;\n    canvasDraw.coordSystem.setView({\n      x: _this4.panStart.x + dx,\n      y: _this4.panStart.y + dy\n    });\n    return _this4;\n  });\n\n  _defineProperty(this, \"handleDrawEnd\", function () {\n    return new DefaultState();\n  });\n};\n/**\n * This state is active when the user has initiated the drawing action but has\n * not yet created any lines. We use this state to try and detect a second touch\n * event to initiate a pinch-zoom action. We'll give up on that if enough time\n * or movement happens without a second touch.\n */\n\nexport var WaitForPinchState = function WaitForPinchState() {\n  var _this5 = this;\n\n  _defineProperty(this, \"handleMouseWheel\", SUPPRESS_SCROLL.bind(this));\n\n  _defineProperty(this, \"handleDrawStart\", function (e, canvasDraw) {\n    var enablePanAndZoom = canvasDraw.props.enablePanAndZoom;\n    e.preventDefault(); // We're going to transition immediately into lazy-drawing mode if\n    // pan-and-zoom isn't enabled or if this event wasn't triggered by a touch.\n\n    if (!e.touches || !e.touches.length || !enablePanAndZoom) {\n      return new DrawingState().handleDrawStart(e, canvasDraw);\n    } // If we already have two touch events, we can move straight into pinch/pan\n\n\n    if (enablePanAndZoom && e.touches && e.touches.length >= 2) {\n      return new ScaleOrPanState().handleDrawStart(e, canvasDraw);\n    }\n\n    return _this5.handleDrawMove(e, canvasDraw);\n  });\n\n  _defineProperty(this, \"handleDrawMove\", function (e, canvasDraw) {\n    e.preventDefault(); // If we have two touches, move to pinch/pan (we don't have to recheck\n    // whether zoom is enabled because that happend in draw start).\n\n    if (e.touches && e.touches.length >= 2) {\n      // Use the start draw to handler to transition.\n      return new ScaleOrPanState().handleDrawStart(e, canvasDraw);\n    }\n\n    var clientPt = clientPointFromEvent(e);\n\n    _this5.deferredPoints.push(clientPt); // If we've already moved far enough, or if enough time has passed, give up\n    // and switch over to drawing.\n\n\n    if (new Date().valueOf() - _this5.startTimestamp < PINCH_TIMEOUT_MS) {\n      if (_this5.startClientPoint === null) {\n        _this5.startClientPoint = clientPt;\n      } // Note that we're using \"manhattan distance\" rather than computing a\n      // hypotenuse here as a cheap approximation\n\n\n      var d = Math.abs(clientPt.clientX - _this5.startClientPoint.clientX) + Math.abs(clientPt.clientY - _this5.startClientPoint.clientY);\n\n      if (d < TOUCH_SLOP) {\n        // We're not ready to give up yet.\n        return _this5;\n      }\n    } // Okay, give up and start drawing.\n\n\n    return _this5.issueDeferredPoints(canvasDraw);\n  });\n\n  _defineProperty(this, \"handleDrawEnd\", function (e, canvasDraw) {\n    // The user stopped drawing before we decided what to do. Just treat this as\n    // if they were drawing all along.\n    return _this5.issueDeferredPoints(canvasDraw).handleDrawEnd(e, canvasDraw);\n  });\n\n  _defineProperty(this, \"issueDeferredPoints\", function (canvasDraw) {\n    // Time to give up. Play our deferred points out to the drawing state.\n    // The first point will have been a start draw.\n    var nextState = new DrawingState();\n\n    for (var i = 0; i < _this5.deferredPoints.length; i++) {\n      var deferredPt = _this5.deferredPoints[i];\n      var syntheticEvt = new SyntheticEvent(deferredPt);\n      var func = i === 0 ? nextState.handleDrawStart : nextState.handleDrawMove;\n      nextState = func(syntheticEvt, canvasDraw);\n    }\n\n    return nextState;\n  });\n\n  this.startClientPoint = null;\n  this.startTimestamp = new Date().valueOf();\n  this.deferredPoints = [];\n};\n/**\n * This state is active when the user has added at least two touch points but we\n * don't yet know if they intend to pan or zoom.\n */\n\nexport var ScaleOrPanState = function ScaleOrPanState() {\n  var _this6 = this;\n\n  _defineProperty(this, \"handleMouseWheel\", SUPPRESS_SCROLL.bind(this));\n\n  _defineProperty(this, \"handleDrawStart\", function (e, canvasDraw) {\n    e.preventDefault();\n\n    if (!e.touches || e.touches.length < 2) {\n      return new DefaultState();\n    }\n\n    _this6.start = _this6.getTouchMetrics(e);\n    _this6.panStart = {\n      x: canvasDraw.coordSystem.x,\n      y: canvasDraw.coordSystem.y\n    };\n    _this6.scaleStart = canvasDraw.coordSystem.scale;\n    return _this6;\n  });\n\n  _defineProperty(this, \"handleDrawMove\", function (e, canvasDraw) {\n    e.preventDefault();\n\n    if (!e.touches || e.touches.length < 2) {\n      return new DefaultState();\n    }\n\n    var _this6$recentMetrics = _this6.recentMetrics = _this6.getTouchMetrics(e),\n        centroid = _this6$recentMetrics.centroid,\n        distance = _this6$recentMetrics.distance; // Switch to scaling?\n\n\n    var dd = Math.abs(distance - _this6.start.distance);\n\n    if (dd >= TOUCH_SLOP) {\n      return new TouchScaleState(_this6).handleDrawMove(e, canvasDraw);\n    } // Switch to panning?\n\n\n    var dx = centroid.clientX - _this6.start.centroid.clientX;\n    var dy = centroid.clientY - _this6.start.centroid.clientY;\n    var dc = Math.abs(dx) + Math.abs(dy);\n\n    if (dc >= TOUCH_SLOP) {\n      return new TouchPanState(_this6).handleDrawMove(e, canvasDraw);\n    } // Not enough movement yet\n\n\n    return _this6;\n  });\n\n  _defineProperty(this, \"handleDrawEnd\", function () {\n    return new DefaultState();\n  });\n\n  _defineProperty(this, \"getTouchMetrics\", function (e) {\n    var _clientPointFromEvent2 = clientPointFromEvent(e.touches[0]),\n        t1x = _clientPointFromEvent2.clientX,\n        t1y = _clientPointFromEvent2.clientY;\n\n    var _clientPointFromEvent3 = clientPointFromEvent(e.touches[1]),\n        t2x = _clientPointFromEvent3.clientX,\n        t2y = _clientPointFromEvent3.clientY;\n\n    var dx = t2x - t1x;\n    var dy = t2y - t1y;\n    return {\n      t1: {\n        clientX: t1x,\n        clientY: t1y\n      },\n      t2: {\n        clientX: t2x,\n        clientY: t2y\n      },\n      distance: Math.sqrt(dx * dx + dy * dy),\n      centroid: {\n        clientX: (t1x + t2x) / 2.0,\n        clientY: (t1y + t2y) / 2.0\n      }\n    };\n  });\n};\n/**\n * The user is actively using touch gestures to pan the image.\n */\n\nexport var TouchPanState = function TouchPanState(scaleOrPanState) {\n  var _this7 = this;\n\n  _defineProperty(this, \"handleMouseWheel\", SUPPRESS_SCROLL.bind(this));\n\n  _defineProperty(this, \"handleDrawStart\", function () {\n    return _this7;\n  });\n\n  _defineProperty(this, \"handleDrawMove\", function (e, canvasDraw) {\n    e.preventDefault();\n\n    if (!e.touches || e.touches.length < 2) {\n      return new DefaultState();\n    }\n\n    var ref = _this7.scaleOrPanState;\n\n    var _ref$recentMetrics = ref.recentMetrics = ref.getTouchMetrics(e),\n        centroid = _ref$recentMetrics.centroid,\n        distance = _ref$recentMetrics.distance;\n\n    var dx = centroid.clientX - ref.start.centroid.clientX;\n    var dy = centroid.clientY - ref.start.centroid.clientY;\n    canvasDraw.setView({\n      x: ref.panStart.x + dx,\n      y: ref.panStart.y + dy\n    });\n    return _this7;\n  });\n\n  _defineProperty(this, \"handleDrawEnd\", function () {\n    return new DefaultState();\n  });\n\n  this.scaleOrPanState = scaleOrPanState;\n};\n/**\n * The user is actively using touch gestures to scale the drawing.\n */\n\nexport var TouchScaleState = function TouchScaleState(scaleOrPanState) {\n  var _this8 = this;\n\n  _defineProperty(this, \"handleMouseWheel\", SUPPRESS_SCROLL.bind(this));\n\n  _defineProperty(this, \"handleDrawStart\", function () {\n    return _this8;\n  });\n\n  _defineProperty(this, \"handleDrawMove\", function (e, canvasDraw) {\n    e.preventDefault();\n\n    if (!e.touches || e.touches.length < 2) {\n      return new DefaultState();\n    }\n\n    var ref = _this8.scaleOrPanState;\n\n    var _ref$recentMetrics2 = ref.recentMetrics = ref.getTouchMetrics(e),\n        centroid = _ref$recentMetrics2.centroid,\n        distance = _ref$recentMetrics2.distance;\n\n    var targetScale = ref.scaleStart * (distance / ref.start.distance);\n    var dScale = targetScale - canvasDraw.coordSystem.scale;\n    canvasDraw.coordSystem.scaleAtClientPoint(dScale, centroid);\n    return _this8;\n  });\n\n  _defineProperty(this, \"handleDrawEnd\", function () {\n    return new DefaultState();\n  });\n\n  this.scaleOrPanState = scaleOrPanState;\n};\n/**\n * This state is active when the user is drawing.\n */\n\nexport var DrawingState = function DrawingState() {\n  var _this9 = this;\n\n  _defineProperty(this, \"handleMouseWheel\", SUPPRESS_SCROLL.bind(this));\n\n  _defineProperty(this, \"handleDrawStart\", function (e, canvasDraw) {\n    e.preventDefault();\n\n    if (e.touches && e.touches.length) {\n      // on touch, set catenary position to touch pos\n      var _viewPointFromEvent2 = viewPointFromEvent(canvasDraw.coordSystem, e),\n          x = _viewPointFromEvent2.x,\n          y = _viewPointFromEvent2.y;\n\n      canvasDraw.lazy.update({\n        x: x,\n        y: y\n      }, {\n        both: true\n      });\n    }\n\n    return _this9.handleDrawMove(e, canvasDraw);\n  });\n\n  _defineProperty(this, \"handleDrawMove\", function (e, canvasDraw) {\n    e.preventDefault();\n\n    var _viewPointFromEvent3 = viewPointFromEvent(canvasDraw.coordSystem, e),\n        x = _viewPointFromEvent3.x,\n        y = _viewPointFromEvent3.y;\n\n    canvasDraw.lazy.update({\n      x: x,\n      y: y\n    });\n    var isDisabled = !canvasDraw.lazy.isEnabled();\n\n    if (!_this9.isDrawing || isDisabled) {\n      // Start drawing and add point\n      canvasDraw.points.push(canvasDraw.clampPointToDocument(canvasDraw.lazy.brush.toObject()));\n      _this9.isDrawing = true;\n    } // Add new point\n\n\n    canvasDraw.points.push(canvasDraw.clampPointToDocument(canvasDraw.lazy.brush.toObject())); // Draw current points\n\n    canvasDraw.drawPoints({\n      points: canvasDraw.points,\n      brushColor: canvasDraw.props.brushColor,\n      brushRadius: canvasDraw.props.brushRadius\n    });\n    return _this9;\n  });\n\n  _defineProperty(this, \"handleDrawEnd\", function (e, canvasDraw) {\n    e.preventDefault(); // Draw to this end pos\n\n    _this9.handleDrawMove(e, canvasDraw);\n\n    canvasDraw.saveLine();\n    return new DefaultState();\n  });\n\n  this.isDrawing = false;\n};\nexport var SyntheticEvent = function SyntheticEvent(_ref) {\n  var clientX = _ref.clientX,\n      clientY = _ref.clientY;\n\n  _defineProperty(this, \"preventDefault\", function () {});\n\n  this.clientX = clientX;\n  this.clientY = clientY;\n  this.touches = [{\n    clientX: clientX,\n    clientY: clientY\n  }];\n};\nexport function clientPointFromEvent(e) {\n  // use cursor pos as default\n  var clientX = e.clientX;\n  var clientY = e.clientY; // use first touch if available\n\n  if (e.changedTouches && e.changedTouches.length > 0) {\n    clientX = e.changedTouches[0].clientX;\n    clientY = e.changedTouches[0].clientY;\n  }\n\n  return {\n    clientX: clientX,\n    clientY: clientY\n  };\n}\nexport function viewPointFromEvent(coordSystem, e) {\n  return coordSystem.clientPointToViewPoint(clientPointFromEvent(e));\n}", "// Determines if the browser supprots passive events\n// https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\nvar passiveSupported = false;\n\ntry {\n  var options = {\n    get passive() {\n      passiveSupported = true;\n      return false;\n    }\n\n  };\n  window.addEventListener(\"test\", options, options);\n  window.removeEventListener(\"test\", options, options);\n} catch (e) {\n  passiveSupported = false;\n}\n\nexport default function makePassiveEventOption(passive) {\n  return passiveSupported ? {\n    passive: passive\n  } : passive;\n}"],
  "mappings": "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",
  "names": ["Point", "_createClass", "self", "LazyPoint", "_createClass", "LazyBrush", "require_Point", "_createClass", "Point", "_createClass", "Catenary", "require_lib", "index", "ResizeObserverController", "observers", "ResizeObservation", "ResizeObserverEntry", "ResizeObserverSPI", "_this", "ResizeObserver", "CoordinateSystem", "_this", "_defineProperty", "SUPPRESS_SCROLL", "DefaultState", "DisabledState", "_defineProperty", "PanState", "WaitForPinchState", "ScaleOrPanState", "TouchPanState", "TouchScaleState", "DrawingState", "SyntheticEvent", "_extends", "self", "_defineProperty", "PropTypes", "CanvasDraw", "_this", "_loop", "i", "React", "PropTypes"]
}
